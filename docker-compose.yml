version: "3.4"

services:
    front:
        hostname: front
        image: piotrszymanski/rsww_frontend
        ports:
            - 17574:3000

    api:
        depends_on:
            -   rabbitmq
        image: piotrszymanski/rsww_api
        ports:
            - 17577:80

    hotel-service:
        depends_on:
            - rabbitmq
        image: piotrszymanski/rsww_hotel_service

    transport-service:
        depends_on:
            - rabbitmq
        image: piotrszymanski/rsww_transport_service

    trip-service:
        depends_on:
            - rabbitmq
        image: piotrszymanski/rsww_trip_service

    payment-service:
        depends_on:
            - rabbitmq
        image: piotrszymanski/rsww_payment_service

    rabbitmq:
        image: heidiks/rabbitmq-delayed-message-exchange:3.9.13-management
              
    generator:
        restart: always
        image: piotrszymanski/rsww_generator
